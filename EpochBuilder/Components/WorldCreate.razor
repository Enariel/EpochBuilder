@using Epoch.Lib
@using Epoch.Lib.Models

<MudGrid>
	<MudItem xs="12" md="6">
		<MudPaper Class="pa-2">
			<MudForm Model="@_world" @ref="@_form" @bind-Errors="@_errors" @bind-IsValid="@_isValid">
				<MudTextField Label="Name" @bind-Value="@_world.Title" For="@(() => _world.Title)" />
				<MudTextField Label="Description" @bind-Value="@_world.Description" For="@(() => _world.Description)" Lines="3" />
				<MudButton OnClick="@SubmitWorld" Color="Color.Primary" Variant="Variant.Outlined">Submit</MudButton>
			</MudForm>
		</MudPaper>
	</MudItem>
	<MudItem xs="12" md="6">
		<MudStack Style="width: 100%;">
			@foreach (var world in _worlds)
			{
				<MudCard Class="pa-2 ma-1" @key="@world.WorldId">
					<MudCardHeader>
						<MudText Typo="Typo.h6">@world.Title <MudText>Active: @world.IsActive.ToString()</MudText></MudText>
					</MudCardHeader>
					<MudCardContent>
						<MudText Typo="Typo.body2">@world.Description</MudText>
					</MudCardContent>
					<MudCardActions>
						<MudButton>Delete</MudButton>
						<MudButton>Edit</MudButton>
						<MudButton>Articles</MudButton>
					</MudCardActions>
				</MudCard>
			}
		</MudStack>
	</MudItem>
</MudGrid>

@code {

	[CascadingParameter] public SaveData Data { get; set; }
	private World _world = new World();

}